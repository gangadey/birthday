<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä»Šæ™šï¼Œæ•´ç‰‡æ˜Ÿç©ºå°†ä¸ºä½ ä¸€äººé—ªçƒ</title>
    <link rel="stylesheet" href="css/skystar.css">
    <style>
        /* æ·»åŠ å¾®ä¿¡æç¤ºæ¡ */
        .wechat-tip {
            position: fixed;
            top: 20px;
            left: 0;
            right: 0;
            background: #FF7043;
            color: white;
            padding: 12px;
            text-align: center;
            z-index: 1000;
            font-size: 1.2rem;
            display: none;
        }
    </style>
</head>
<body>
    <!-- å¾®ä¿¡æç¤ºï¼ˆç‚¹å‡»æ’­æ”¾éŸ³ä¹ï¼‰ -->
    <div class="wechat-tip">ğŸµ è½»ç‚¹å±å¹•æ’­æ”¾éŸ³ä¹</div>
    
    <!-- è§†é¢‘èƒŒæ™¯ -->
    <video id="videofilm" poster="img/skystar2.jpg" autoplay muted loop>
        <source src="video/skystar.mp4" type="video/mp4">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ ‡ç­¾
    </video>

    <!-- æ–‡å­—åŒºåŸŸ -->
    <div class="textone">
        <h1>look at the stars</h1>
    </div>
    <div class="texttwo">
        <h1>look how they shine for u</h1>
    </div>
    <div class="textthree">
        <h1></h1>
    </div>

    <!-- éŸ³é¢‘ -->
    <audio id="bgm" src="video/æ˜å¤©.mp3" loop></audio>
    
    <!-- é£˜è½æ–‡å­—å®¹å™¨ -->
    <div class="container"></div>

    <!-- JSæ–‡ä»¶ -->
    <script src="js/skystar.js"></script>
    
    <!-- éŸ³é¢‘æ§åˆ¶è„šæœ¬ -->
    <script>
        // æ£€æµ‹å¾®ä¿¡ç¯å¢ƒ
        const isWeChat = /micromessenger/i.test(navigator.userAgent);
        
        if(isWeChat) {
            document.querySelector('.wechat-tip').style.display = 'block';
        }

        // å¤„ç†ç”¨æˆ·ç‚¹å‡»
        document.body.addEventListener('touchstart', function() {
            const video = document.querySelector('#videofilm');
            const audio = document.getElementById('bgm');
            
            // å–æ¶ˆè§†é¢‘é™éŸ³
            video.muted = false; // âœ… å…³é”®ä¿®å¤
            
            // å°è¯•æ’­æ”¾éŸ³é¢‘
            if(audio.paused) {
                audio.play().catch(e => console.log(e));
            }
            
            // éšè—æç¤º
            document.querySelector('.wechat-tip').style.display = 'none';
        }, { once: true });
    </script>
<script>
// å¾®ä¿¡ç¯å¢ƒä¸“ç”¨ä¿®å¤
if(/micromessenger/i.test(navigator.userAgent)) {
    // ä¿®å¤DOMç»“æ„ç ´åé—®é¢˜
    const createContainer = () => {
        const container = document.createElement('div');
        container.className = 'container';
        document.body.appendChild(container);
        return container;
    };
    
    // åˆå§‹åŒ–å‡½æ•°é‡å†™
    function safeInit() {
        window.__wx_isPageReady = true;
        
        // ä¿®å¤è·¯å¾„é—®é¢˜
        const assets = ['js/skystar.js', 'css/style.css'];
        assets.forEach(path => {
            if(!document.querySelector(`[src*="${path}"]`) && 
               !document.querySelector(`[href*="${path}"]`)) {
                if(path.endsWith('.js')) {
                    const script = document.createElement('script');
                    script.src = path;
                    document.head.appendChild(script);
                } else {
                    const link = document.createElement('link');
                    link.rel = 'stylesheet';
                    link.href = path;
                    document.head.appendChild(link);
                }
            }
        });
        
        // ç¡®ä¿å®¹å™¨å­˜åœ¨
        if(!document.querySelector('.container')) createContainer();
        
        // å»¶è¿Ÿåˆå§‹åŒ–
        setTimeout(() => {
            if(typeof init === 'function') init();
            else window.location.reload();
        }, 1000);
    }

    // æ›¿æ¢åŸå§‹åˆå§‹åŒ–
    window.init = safeInit;
    document.addEventListener('DOMContentLoaded', safeInit);
}
</script>
</body>
</html>